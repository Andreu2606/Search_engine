<h1 style="font-size: 3em;">Search Engine</h1>

# Итоговый проект на тему: "Реализация системы поиска по корпоративному порталу компании "АйТиБокс"."

## Содержание

• [Введение](#введение)

• [Описание](#описание)

    ◦ [Принцип работы поискового движка](#принцип-работы-поискового-движка)

• [Этапы разработки](#этапы-разработки)

• [Используемые технологии](#используемые-технологии)

• [Краткая инструкция пользователю](#краткая-инструкция-пользователю)

• [Запуск](#запуск)

• [Результат работы](#результат-работы)

## Введение

Этот итоговый проект является заключительным этапом моего обучения в Skillbox по программе "Разработчик на C++ с нуля".

Тема итогового проекта: "Реализация системы поиска по корпоративному порталу компании "АйТиБокс"."
Цель проекта - разработать собственный поисковый движок для корпоративного портала компании. 
Этот движок является аналогом известных компаний Яндекс или Google.

Эта работа демонстрирует навыки владения синтаксисом языка C++, умение выстраивать архитектуру проекта,
строить поисковые идексы, работа с конфигурационными файлами, а так же написание тестов для проверки разработанного 
решения задачи.

## Описание

Поисковый движок Search Engine представляет собой консольное приложение, осуществляющее поиск и имеющее возможность
настройки через файлы формата JSON. Примененные в нем решения можно впоследствии встроить в поисковый движок работающий
на веб.

### Принципы работы поискового движка

1. В конфигурационном файле перед запуском приложения задаются названия файлов, по которым движок будет 
осуществлять поиск.
2. Поисковый движок должен самостоятельно обходить все файлы и индексировать их так, чтобы потом по
любому поисковому запросу находить наиболее релевантные документы.
3. Пользователь задает запрос через JSON-файл requests.json. Запрос - это набор слов, по которым нужно найти документы.
4. Запрос трансформируется в список слов.
5. В индексе ищутся те документы, на которых встречаются все эти слова.
6. В результате поиска ранжируются, сортируются и отдаются пользователю, максимальное количество возможных
документов в ответе задается в конфигурационном файле.
7. В конце программа формирует файл answers.json, в который записывает результат поиска.

## Этапы разработки

### 1. Подготовка

Цель этапа: подготовить необходимое программное обеспечение для разработки поискового движка.

### 2. Разработка класса для взаимодействия с файлами JSON.

Цель этапа: добавление в созданный проект класс ConverterJSON для работы с файлами в формате JSON.

### 3. Подключение системы тестирования к проекту

Цель этапа: подключение к проекту библиотеки Google Test для проведения автоматических модульных тестов.

### 4. Создание инвертированного индекса для документов

Цель этапа: реализация инвертированной индексации документов.

### 5. Система индексации документов

Цель этапа: реализация системы определения релевантности поискового запроса

### 6. Размещение на GitHub

Цель этапа: научиться размещать проекты в публичном доступе для демонстрации при презентации проектов
и при общении с потенциальными работодателями.


### 7. Подготовка к сдаче проекта

Цель этапа: подготовить проект к сдаче на проверку куратору.

## Используемые технологии

| № | Параметр                 | Версия/Детали                                      |
|---|--------------------------|----------------------------------------------------|
| 1 | Целевые ОС               | Windows 10, Windows 11                             |
| 2 | Компилятор               | GCC(MinGW) 14.1.0 (x86_64-posix-seh, MinGW-Builds) |
| 3 | Средство сборки          | cmake version 3.30.2                               |
| 4 | IDE                      | CLion version 2024.2.1                             |
| 5 | СКВ                      | Git version 2.50.1.windows.1                       |
| 6 | Библиотека nlohmann_json |                                                    |
| 7 | Google Test              |                                                    |

## Краткая инструкция пользователю

### Проверка

Перед запуском проекта проверьте следующее:

• установлен GCC версии 14.1.0 (остальные версии не тестировались);

• путь к gcc.exe прописан в системных переменных средах;

• установлен cmake версии 3.30.2 (остальные версии не тестировались);

• путь к cmake.exe прописан в системных переменных средах;

• имеется доступ в интернет для загрузки библиотек JSON и GTest либо данные библиотеки уже подгруженны
в нужную директорию;

•

### Примечание: не забудьте удалить директорию resources или ее содержимое после копирования проекта!

#### Файл конфигурации config.json

Без файла конфигурации запуск приложения невозможен. Он содержит название поискового движка, 
его версию и максимальное количество вариантов в ответе (если не указано, то значение выбирается равным пяти).

Пример описания файла config.json:
```json
{
    "config": {
        "name": "SkillboxSearchEngine",
        "version": "0.1",
        "max_responses": 5
    },
    "files": [
        "../resources/file001.txt",
        "../resources/file002.txt",
        "../resources/file003.txt",
        "../resources/file004.txt",
        ...
    ]
}
```
Подробнее:

• **config** - общая информация, без которой приложение не запускается. Если это поле отсутствует, 
то при старте программа должна выбросить исключение и вывести в текстовую консоль ошибку config 
file is empty. Если отсутствует сам файл config.json, то необходимо выбросить исключение и 
вывести ошибку config file is missing.

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong>name</strong> - поле с названием поискового движка. 
Оно может быть любым. Информацию из данного поля необходимо отображать при старте приложения.</p>

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong>version</strong> - поле с номером версии поискового движка. 
На данный момент не используется.</p>

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong>max_responses</strong> - поле, определяющее максимальное 
количество ответов на один запрос.</p>

• **files** - поле с путями к файлам, по которым необходимо осуществлять поиск. 
Внутри списка files лежат пути к файлам (относительные или абсолютные).

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong> <путь к файлу> </strong> ("..resources/file001.txt") - 
это путь к файлу, по содержимому которого необходимо совершить поиск. Если по этому пути файл не существует, 
то на экран выводится соответствующая ошибка, но выполнение программы не прекращается. 
При этом каждый документ содержит не более 1000 слов с максимальной длиной каждого в 100 символов. 
Слова состоят из строчных латинских букв и разделены одним или несколькими пробелами.</p>

#### Файл с запросами requests.json

Файл содержит запросы, которые необходимо обработать поисковому движку.

Пример описания файла requests.json:

```json
{
  "requests": [
    "some words..",
    "some words..",
    "some words..",
    "some words..",
    ...
  ]
}
```
Подробнее:

• **requests** - поле, состоящее из списка запросов, которые необходимо обработать поисковым движком. 
Поле содержит не более 1000 запросов, каждый из которых включает от одного до десяти слов.

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong> <содержимое запроса>("some words") </strong> - 
поисковый запрос, набор слов, разделенных одним или несколькими пробелами, по которым необходимо совершить поиск. 
Все слова состоят из строчных латинских букв.</p>

## Запуск

Перед запуском убедитесь, что у вас установлены:

• GCC (MinGW) версии 14.1.0 или выше 

• CMake версии 3.30.2 или новее

• Git (для клонирования репозитория)

Клонирование репозитория:

git clone https://github.com/Andreu2606/Search_engine.git

cd Search_engine

Подготовка конфигурационных файлов:

Перед запуском убедитесь, что в папке JSON есть:

config.json – настройки движка и пути к файлам

requests.json – поисковые запросы

Для запуска проекта необходимо выполнить конфигурацию CMake файла CMakeLists.txt, находящегося в корне проекта.
Далее выполнить сборку основного (Search_engine) приложения и после этого запустить исполняемый файл.

## Результат работы

В результате выполнения работы программы, формируется файл answers.json. В него записываются результаты работы движка.

Пример файла answers.json:

```json
{
    "answers": {
        "request001": {
            "result": "true",
            "relevance": {
                "docid": 0, "rank" : 0.989,
                "docid": 1, "rank" : 0.897,
                "docid": 2, "rank" : 0.750,
                "docid": 3, "rank" : 0.670,
                "docid": 4, "rank" : 0.561
            }
        },
        "request002": {
            "result": "true",
            "docid": 0, "rank" : 0.769
        },
        "request003": {
            "result": "false"
        }
    }
}
```

Подробнее:

• **answers** - базовое поле в этом файле, которое содержит ответы на запросы.

<p style="margin-left: 20px; font-size: 1em;"> ◦ <strong>request001 .. 003</strong> - идентификатор запроса, 
по которому сформирован ответ. Идентификатор запроса формируется автоматически по порядку в котором находятся 
запросы в поле requests файла requests.json</p>

<p style="margin-left: 40px; font-size: 1em;"> ◦ <strong>result</strong> - результат поиска запроса.
Если он принимает значение true, значит по данному запросу найден хотя бы один документ. Если результат
имеет значение false, значит ни одного документа не найдено. Тогда других полей в ответе не этот запрос нет.

<p style="margin-left: 40px; font-size: 1em;"> ◦ <strong>relevance</strong> - включается в answers.json, 
если на этот запрос удалось найти более одного документа.

<p style="margin-left: 60px; font-size: 1em;"> ◦ <strong> <Идентификатор документа>("docid") </strong> - 
идентификатор документа, в котором найден ответ на запрос. Он формируется автоматически при индексации всех 
документов исходя из порядка, в котором документы расположены в поле files в файле config.json.

<p style="margin-left: 60px; font-size: 1em;"> ◦ <strong> <ранг ответа("rank")> </strong> - ранг или поисковый 
рейтинг. Это число показывает, насколько документ подходит для заданного запроса.